(this["webpackJsonpcrypto-quotes"]=this["webpackJsonpcrypto-quotes"]||[]).push([[0],{144:function(e,t,n){e.exports=n(164)},164:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(15),o=n.n(i),u=n(62),s=n(52),l=n(214),p=n(110),m=n(206),d=n(207),f=n(121),h=n(58),b=n(119),v=n(18),g="/api";!function(e){e.home="/",e.signIn="/signin",e.signUp="/signup"}(a||(a={}));var w,E=n(10),x=n.n(E),j=n(19),k=n(59),O=function(){var e=Object(j.a)(x.a.mark((function e(t,n,a){var r,c,i=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>3&&void 0!==i[3]&&i[3],e.next=3,fetch(g+t,{method:a,headers:y(r),body:null==n?null:r?n:JSON.stringify(n)});case 3:return 401===(c=e.sent).status&&window.accountService.currentToken&&(window.accountService.logout(),document.location.reload()),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),y=function(e){var t={},n=window.accountService.currentToken;return null!=n&&(t.Authorization="Bearer ".concat(n)),e||(t["Content-Type"]="application/json"),t},C=function(){var e=Object(j.a)(x.a.mark((function e(t,n){var a,r=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]&&r[2],e.next=3,O(t,n,"POST",a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t,null,"GET");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(Object(j.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(Object(j.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),U={signin:function(){var e=Object(j.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("/account/signin",{login:t,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),signup:function(){var e=Object(j.a)(x.a.mark((function e(t,n,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("/account/signup",{login:t,password:n,repeatedPassword:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),loadQuotes:function(){var e=Object(j.a)(x.a.mark((function e(t,n,a,r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=4;break}return e.next=3,T("/cryptocurrency?start=".concat(t,"&end=").concat(n,'"'));case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,T("/cryptocurrency?start=".concat(t,"&end=").concat(n,"&order=").concat(a,"&orderBy=").concat(r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()};!function(e){e[e.GenericError=0]="GenericError",e[e.Unauthorized=1]="Unauthorized",e[e.Forbidden=2]="Forbidden"}(w||(w={}));var W=n(12),B=function e(){var t=this;Object(k.a)(this,e),this.tokenName="cqf-token",this.getToken=function(){return localStorage.getItem(t.tokenName)},this.setToken=function(e){return localStorage.setItem(t.tokenName,e)},this.deleteToken=function(){return localStorage.removeItem(t.tokenName)},this.currentToken=this.getToken(),this.signIn=function(){var e=Object(j.a)(x.a.mark((function e(n,a){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.signin(n,a);case 2:return r=e.sent,e.abrupt("return",t.handleResult(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.signUp=function(){var e=Object(j.a)(x.a.mark((function e(n,a,r){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.signup(n,a,r);case 2:return c=e.sent,e.next=5,t.handleResult(c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.handleResult=function(){var e=Object(j.a)(x.a.mark((function e(n){var a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n?void 0:n.succeeded){e.next=2;break}return e.abrupt("return",null!==(r=null===n||void 0===n?void 0:n.errorMessage)&&void 0!==r?r:null);case 2:if(void 0!==(c=null===(a=n.data)||void 0===a?void 0:a.token)){e.next=5;break}return e.abrupt("return","Error");case 5:return t.setToken(c),t.setCurrentToken(c),e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isTokenExist=function(){return null!==t.currentToken},this.logout=function(){t.deleteToken(),t.deleteCurrentToken()},this.deleteCurrentToken=function(){return t.currentToken=null},this.setCurrentToken=function(e){return t.currentToken=e},Object(W.l)(this)},D=c.a.createContext({accountService:new B}),P=D.Provider,q=D,z=Object(p.a)((function(e){return{toolBar:{backgroundColor:e.palette.primary.dark,justifyContent:"space-between"},content:{margin:"50px 50px"},layout:{height:"100%",width:"100%",display:"flex",zIndex:1,position:"relative",minWidth:"auto",minHeight:"100vh",flexDirection:"column",backgroundColor:"white"}}})),A=Object(b.a)((function(e){var t=Object(r.useContext)(q).accountService,n=z(),i=Object(v.g)(),o=t.isTokenExist();return c.a.createElement("div",{className:n.layout},c.a.createElement(m.a,{position:"static"},c.a.createElement(d.a,{className:n.toolBar},c.a.createElement(f.a,{variant:"h6"},"Crypto Quotes"),o?c.a.createElement(h.a,{color:"inherit",onClick:function(e){t.logout(),i.push(a.signIn)}},"Logout"):null)),c.a.createElement("div",{className:n.content},e.children))})),M=n(90),R=n(6),F=n(215),H=n(209),G=n(97),J=n(213),Q=n(210),L=n(76),V=n.n(L),Z=n(208),$=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},link:{cursor:"pointer"}}})),K=function(){var e=$(),t=Object(v.g)(),n=Object(r.useState)(),i=Object(R.a)(n,2),o=i[0],u=i[1],s=Object(r.useState)(),l=Object(R.a)(s,2),p=l[0],m=l[1],d=Object(r.useState)(),b=Object(R.a)(d,2),g=b[0],w=b[1],E=Object(r.useContext)(q).accountService,k=function(){var e=Object(j.a)(x.a.mark((function e(n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,E.signIn(o,p);case 3:if(null===(r=e.sent)){e.next=7;break}return w(r),e.abrupt("return");case 7:t.push(a.home);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(Z.a,{component:"main",maxWidth:"xs"},c.a.createElement(H.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement(F.a,{className:e.avatar},c.a.createElement(V.a,null)),c.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign in"),c.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:k},c.a.createElement(Q.a,{container:!0,spacing:2},c.a.createElement(Q.a,{item:!0,xs:12},c.a.createElement(G.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:function(e){return u(e.target.value)},id:"email",label:"Email Address",name:"email",autoComplete:"email"})),c.a.createElement(Q.a,{item:!0,xs:12},c.a.createElement(G.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:function(e){return m(e.target.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}))),c.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:!o||!p},"Sign In"),c.a.createElement(Q.a,{container:!0,justifyContent:"flex-end"},c.a.createElement(Q.a,{item:!0},c.a.createElement(f.a,{variant:"caption",display:"block",gutterBottom:!0,color:"error"},g))),c.a.createElement(Q.a,{container:!0,justifyContent:"flex-end"},c.a.createElement(Q.a,{item:!0},c.a.createElement(J.a,{variant:"body2",onClick:function(){t.push(a.signUp)},className:e.link},"Don't have an account? Sign Up"))))))},X=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Y=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_=function(){var e=X(),t=Object(r.useState)(""),n=Object(R.a)(t,2),i=n[0],o=n[1],u=Object(r.useState)(""),s=Object(R.a)(u,2),l=s[0],p=s[1],m=Object(r.useState)(""),d=Object(R.a)(m,2),b=d[0],g=d[1],w=Object(r.useState)(),E=Object(R.a)(w,2),k=E[0],O=E[1],y=Object(v.g)(),C=Object(r.useContext)(q).accountService,S=function(){var e=Object(j.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C.signUp(i,l,b);case 3:if(null===(n=e.sent)){e.next=7;break}return O(n),e.abrupt("return");case 7:y.push(a.home);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){!function(e){if(""===e)return;if(void 0===e)return void O(ee);if(!Y.test(String(e).toLowerCase()))O(ee)}(i)}),[i]),Object(r.useEffect)((function(){T(l,b)}),[l,b]);var T=function(e,t){O(void 0===e||void 0===t||e!==t?te:void 0)};return c.a.createElement(Z.a,{component:"main",maxWidth:"xs"},c.a.createElement(H.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement(F.a,{className:e.avatar},c.a.createElement(V.a,null)),c.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign up"),c.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:S},c.a.createElement(Q.a,{container:!0,spacing:2},c.a.createElement(Q.a,{item:!0,xs:12},c.a.createElement(G.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:function(e){return t=e.target.value,o(t),void O(void 0);var t},id:"email",label:"Email",name:"email",autoComplete:"email"})),c.a.createElement(Q.a,{item:!0,xs:12},c.a.createElement(G.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:function(e){return p(e.target.value)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),c.a.createElement(Q.a,{item:!0,xs:12},c.a.createElement(G.a,{variant:"outlined",required:!0,fullWidth:!0,onChange:function(e){return g(e.target.value)},name:"repeatpassword",label:"Repeat Password",type:"password",id:"password",autoComplete:"current-password"}))),c.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:!(i&&l&&l===b&&void 0===k)},"Sign Up"),c.a.createElement(Q.a,{container:!0,justifyContent:"flex-end"},c.a.createElement(Q.a,{item:!0},k&&c.a.createElement(f.a,{variant:"caption",display:"block",gutterBottom:!0,color:"error"},k))),c.a.createElement(Q.a,{container:!0,justifyContent:"flex-end"},c.a.createElement(Q.a,{item:!0},c.a.createElement(J.a,{href:"/signin",variant:"body2"},"Already have an account? Sign in"))))))},ee="Email is invalid.",te="Passwords are different",ne=n(116),ae=n(117),re=[{field:"name",width:250,headerName:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{field:"symbol",width:130,headerName:"\u0421\u0438\u043c\u0432\u043e\u043b"},{field:"price",width:220,headerName:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0446\u0435\u043d\u0430 \u0432 USD"},{field:"logo",width:130,headerName:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",renderCell:function(e){return c.a.createElement("img",{src:e.value})},sortable:!1},{field:"percentChangeOneHour",width:200,headerName:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0437\u0430 \u0447\u0430\u0441"},{field:"percentChangeTwentyFourHours",width:230,headerName:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0437\u0430 24 \u0447\u0430\u0441\u0430"},{field:"marketCap",width:230,headerName:"\u041a\u0430\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 USD"},{field:"lastUpdated",width:260,headerName:"\u0412\u0440\u0435\u043c\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445",valueFormatter:function(e){return new Intl.DateTimeFormat("ru",{day:"2-digit",month:"2-digit",year:"numeric",minute:"2-digit",hour:"2-digit",hour12:!1}).format(new Date(e.value))}}],ce=function(){var e=Object(r.useState)([]),t=Object(R.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(0),o=Object(R.a)(i,2),u=o[0],s=o[1],l=Object(r.useState)(!1),p=Object(R.a)(l,2),m=p[0],d=p[1],f=Object(r.useState)(0),h=Object(R.a)(f,2),b=h[0],v=h[1],g=Object(r.useState)([{field:"marketCap",sort:"asc"}]),w=Object(R.a)(g,2),E=w[0],k=w[1];return Object(r.useEffect)((function(){Object(j.a)(x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),t=E[0]?E[0].field.charAt(0).toUpperCase()+E[0].field.slice(1):void 0,n=E[0]?"asc"===E[0].sort?0:1:void 0,e.next=5,U.loadQuotes(10*u,10*u+10,t,n);case 5:(r=e.sent)&&(a(r.entities.map((function(e){return Object(ne.a)({logo:"https://s2.coinmarketcap.com/static/img/coins/32x32/".concat(e.coinMarketCapId,".png")},e)}))),v(r.count)),d(!1);case 8:case"end":return e.stop()}}),e)})))()}),[u,E]),c.a.createElement("div",{style:{height:"647px",width:"100%"}},c.a.createElement(ae.a,{rows:n,columns:re,pageSize:10,rowCount:b,pagination:!0,disableSelectionOnClick:!0,paginationMode:"server",onPageChange:function(e){s(e)},loading:m,onSortModelChange:function(e){return k(e)},sortModel:E}))},ie=Object(p.a)((function(e){return{tabPanel:{backgroundColor:e.palette.primary.main},tab:{border:"2px solid ".concat(e.palette.primary.main),WebkitBorderBottomRightRadius:"5px",minHeight:"77vh"},root:{display:"flex",boxShadow:"0 0 10px rgba(0,0,0,0.5)"},tabsContainer:{width:"100%"}}})),oe=function(){var e=ie();return c.a.createElement("div",{className:e.root},c.a.createElement(ce,null))},ue=Object(p.a)({tabs:{}}),se=function(){var e=ue();return c.a.createElement("div",null,c.a.createElement(oe,{className:e.tabs}))},le=["children"],pe=["children"],me=function(){return c.a.createElement(v.d,null,c.a.createElement(fe,{path:a.signIn,exact:!0},c.a.createElement(K,null)),c.a.createElement(fe,{path:a.signUp,exact:!0},c.a.createElement(_,null)),c.a.createElement(de,{path:a.home,exact:!0},c.a.createElement(se,null)))},de=function(e){var t=e.children,n=Object(M.a)(e,le),i=Object(r.useContext)(q).accountService;return c.a.createElement(v.b,Object.assign({},n,{render:function(e){return i.isTokenExist()?t:c.a.createElement(v.a,{to:"".concat(a.signIn,"?redirect=").concat(e.location.pathname).concat(e.location.search)})}}))},fe=function(e){var t=e.children,n=Object(M.a)(e,pe),a=Object(r.useContext)(q).accountService;return c.a.createElement(v.b,Object.assign({},n,{render:function(e){return a.isTokenExist()?c.a.createElement(v.a,{to:"/"}):t}}))},he=Object(s.b)({palette:{primary:{light:"#4dabf5",main:"#2196f3",dark:"#1769aa",contrastText:"#fff"},secondary:{light:"#f73378",main:"#f50057",dark:"#ab003c",contrastText:"#000"}}});window.accountService=new B;var be=function(){return c.a.createElement(P,{value:{accountService:window.accountService}},c.a.createElement(l.a,{theme:he},c.a.createElement(A,null,c.a.createElement(me,null))))},ve=document.getElementsByTagName("base")[0].getAttribute("href"),ge=document.getElementById("root");window.accountService=new B,o.a.render(c.a.createElement(r.StrictMode,null,c.a.createElement(u.a,{basename:ve},c.a.createElement(be,null))),ge)}},[[144,1,2]]]);
//# sourceMappingURL=main.46629e38.chunk.js.map